<!DOCTYPE HTML>
<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet">
</head>

<style type="text/css">
body,html{
  height:100%;
  position: fixed;
}

body {
    background-color: #767676;
    font-family: 'Brew Serif', serif;
}

#jeux {
  position: fixed;
  height: 100%;
  width: 100%;
  background: blue;
}

#joueur1 {
  height: 100px;
  width: 100px;
  background-image:url("ressources/truck.png");
  background-size: 100% 100%;
  background-repeat: no-repeat;
}


</style>



<script type="text/javascript">

// copier/coller de
//          https://siongui.github.io/2012/06/25/javascript-keyboard-event-arrow-key-example/

var Key = {
  GAUCHE:   37,
  HAUT:     38,
  DROITE:  39,
  BAS:   40
};

var position = {
  x: 0,
  y: 0
};



var direction = {
  direction: "d",
  x: 10,
  y: 0
};



function tourne_droite(){
  if(direction.direction=="g"){
     direction.direction="d";
     joueur1.style.setAttribute("style", "transform : rotate(90deg)");
   }
};

function tourne_gauche(){
  alert("tourne gauche");
  if(direction.direction=="d"){
     direction.direction="g";
     joueur1.style.setAttribute("style", "transform : rotate(90deg)");
     alert("tourne gauche");
   }
};

function avance(){
  position.x=position.x+direction.x;
  position.y=position.y+direction.y;
 joueur1.style.transform ='translate('+position.x+'px,'+position.y+'px)';
}

function recule(){
  position.x=position.x-direction.x;
  position.y=position.y-direction.y;
 joueur1.style.transform ='translate('+position.x+'px,'+position.y+'px)';
}



/**
 * old IE: attachEvent
 * Firefox, Chrome, or modern browsers: addEventListener
 */
function _addEventListener(evt, element, fn) {
  if (window.addEventListener) {
    element.addEventListener(evt, fn, false);
  }
  else {
    element.attachEvent('on'+evt, fn);
  }
}


function handleKeyboardEvent(evt) {
  if (!evt) {evt = window.event;} // for old IE compatible
  var keycode = evt.keyCode || evt.which; // also for cross-browser compatible

  var info = document.getElementById("jeux");
  var joueur1 = document.getElementById('joueur1');
  switch (keycode) {
    case Key.GAUCHE:
    alert('gauche');
      tourne_gauche();
      break;
    case Key.HAUT:
      avance();
      break;
    case Key.DROITE:
      tourne_droite();
      break;
    case Key.BAS:
      recule();
      break;
    //default:
        //info.value += "SOMEKEY ";
  }
}

_addEventListener('keyBAS', document, handleKeyboardEvent);

</script>

<h1>Monster Truck!</h1>
<p>Le jeux qui sera bientôt le plus cool des jeux de monster truck! ... enfin, j'espère.</p>
<div id="jeux">

<div id="joueur1">
</div>


</div>



</html>
